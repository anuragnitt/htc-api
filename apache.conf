<VirtualHost *:80>
    ServerName urtc.example.com
    ServerAdmin example@gmail.com
    ErrorLog logs/%{SERVER_NAME}-error_log
    CustomLog logs/%{SERVER_NAME}-access_log combined

    RewriteEngine On
    RedirectMatch ^/(.*)$ https://%{SERVER_NAME}/$1
</VirtualHost>

<VirtualHost *:443>
    ServerName urtc.example.com
    ServerAdmin example@gmail.com
    ErrorLog logs/%{SERVER_NAME}-error_log
    CustomLog logs/%{SERVER_NAME}-access_log combined

    SSLEngine On
    SSLProxyEngine On
    ProxyRequests Off

    SSLCertificateFile /etc/ssl/urtc.example.com/cert.pem
    SSLCertificateKeyFile /etc/ssl/urtc.example.com/privkey.pem
    SSLCertificateChainFile /etc/ssl/urtc.example.com/fullchain.pem

    ProxyPass / http://localhost:3000/
    ProxyPassReverse / http://localhost:3000/
</VirtualHost>

